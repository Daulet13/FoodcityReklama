# Комментарии и требования заказчика

## Требования к функционалу

### Скидка
**Дата:** Текущая сессия  
**Требование:** Функционал скидки должен поддерживать скидку до 100% (бесплатно).

**Контекст:** При указании скидки на услугу в спецификации или реализации, система должна позволять устанавливать скидку от 0% до 100% включительно. Скидка 100% означает, что услуга предоставляется бесплатно (сумма продажи = 0).

**Где применяется:**
- Услуги в спецификациях (поле "Сумма")
- Услуги в реализациях (поле "Сумма продажи")

**Требования к реализации:**
- Валидация: скидка должна быть в диапазоне 0-100%
- Расчет: итоговая сумма = исходная сумма × (1 - скидка/100)
- При скидке 100% итоговая сумма = 0
- UI должен явно показывать возможность установки скидки до 100%

---

### Список реализаций - группировка и экспорт
**Дата:** Текущая сессия  
**Требование:** В списке реализаций необходимо:
1. **Группировка по контрагентам** - визуально выделять все позиции одного контрагента вместе (например, через группировку строк или визуальное разделение)
2. **Экспорт реализаций** - возможность выгрузить список реализаций в файл (формат: Excel, CSV или PDF)

**Контекст:** Для удобства работы с большим количеством реализаций нужно визуально группировать их по контрагентам и иметь возможность экспортировать данные для дальнейшей обработки или отчетности.

**Где применяется:**
- Страница `/realizations` (список всех реализаций)

**Требования к реализации:**
- Группировка может быть реализована через:
  - Визуальное разделение групп (отступы, фоновый цвет, заголовки групп)
  - Возможность сворачивания/разворачивания групп
  - Или простое визуальное выделение (чередование фона)
- Экспорт должен включать все основные поля реализаций:
  - Номер, Дата, Контрагент, Договор, Спецификация
  - Сумма продажи, Расходы, Прибыль
  - Статус оплаты
- Формат экспорта: Excel (предпочтительно) или CSV

---

